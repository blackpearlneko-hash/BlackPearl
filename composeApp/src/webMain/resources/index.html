<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BlackPearl</title>
    <link type="text/css" rel="stylesheet" href="styles.css">


    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <script>
        let googleInitialized = false;
        let googleCallback = null;

        function initGoogleLogin() {
            console.log("initGoogleLogin() called");

            if (googleInitialized) {
                console.log("Google already initialized");
                return;
            }

            if (!window.google || !google.accounts || !google.accounts.id) {
                console.error("Google Identity SDK not loaded yet");
                return;
            }

            google.accounts.id.initialize({
                client_id: "197683534024-9v1ddqjvjl6e2n4sl8vgl1uudu79tbqb.apps.googleusercontent.com",
                callback: (response) => {
                    console.log("Google callback fired", response);
                    if (googleCallback) {
                        googleCallback(response.credential);
                    }
                },
                ux_mode: "popup"
            });

            googleInitialized = true;
            console.log("Google initialized successfully");
        }

        function googleLogin(callback) {
            console.log("googleLogin() called");
            googleCallback = callback;

            initGoogleLogin();

            console.log("Calling google.accounts.id.prompt()");
            google.accounts.id.prompt((notification) => {
                console.log("Prompt notification:", notification);
            });
        }
    </script>





</head>
<body style="text-align: center; align-content: center">
<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 50 50" role="presentation">
    <circle cx="25" cy="25" r="20" stroke="#ccc" stroke-width="4" fill="none"/>
    <circle cx="25" cy="25" r="20" stroke="#333" stroke-width="4" fill="none" stroke-linecap="round"
            stroke-dasharray="90 125">
        <animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s"
                          repeatCount="indefinite"/>
    </circle>
</svg>
<script type="application/javascript" src="composeApp.js"></script>
</body>
</html>